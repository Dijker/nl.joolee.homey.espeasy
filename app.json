{
  "id": "nl.joolee.homey.espeasy",
  "version": "1.4.0",
  "compatibility": ">=2.0",
  "sdk": 2,
  "brandColor": "#2F4252",
  "name": {
    "en": "ESP Easy",
    "nl": "ESP Easy"
  },
  "description": {
    "nl": "ESP Easy support for Homey",
    "en": "ESP Easy ondersteuning voor Homey"
  },
  "category": [
    "tools"
  ],
  "permissions": [],
  "images": {
    "large": "/assets/images/large.png",
    "small": "/assets/images/small.png"
  },
  "author": {
    "name": "Joolee",
    "email": "homey-app@joolee.nl"
  },
  "contributing": {
    "donate": {
      "paypal": {
        "username": "joolee3000"
      }
    }
  },
  "bugs": {
    "url": "https://github.com/Joolee/nl.joolee.homey.espeasy/issues"
  },
  "homeyCommunityTopicId": 30381,
  "source": "https://github.com/Joolee/nl.joolee.homey.espeasy",
  "homepage": "https://github.com/Joolee/nl.joolee.homey.espeasy/wiki",
  "drivers": [
    {
      "id": "environment",
      "name": {
        "en": "Environment"
      },
      "class": "sensor",
      "capabilities": [
        "device_heartbeat"
      ],
      "images": {
        "large": "/drivers/environment/assets/images/large.png",
        "small": "/drivers/environment/assets/images/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "settings"
          }
        },
        {
          "id": "settings",
          "navigation": {
            "prev": "list_devices",
            "next": "done"
          }
        },
        {
          "id": "done",
          "template": "done"
        }
      ],
      "settings": [
        {
          "id": "unitInfo",
          "type": "group",
          "label": {
            "en": "Unit information",
            "nl": "Unitinformatie"
          },
          "children": [
            {
              "id": "mac",
              "type": "label",
              "label": {
                "en": "MAC Address",
                "nl": "MAC-Adres"
              },
              "value": "",
              "hint": {
                "en": "The MAC Address of your ESP Easy unit. This is the identifier Homey uses for your unit. Any incoming messages will be matched by MAC addres so if the IP address does not match, it is updated on Homey's end.",
                "nl": "Het MAC-Adres van je ESP Easy unit. Dit gebruikt Homey om een unit te identificeren, binnenkomende berichten worden hiermee herkent en als het IP adres van afzender niet overeen komt, wordt deze aangepast in Homey."
              }
            },
            {
              "id": "host",
              "type": "label",
              "label": {
                "en": "Unit hostname",
                "nl": "Unit hostnaam"
              },
              "value": "",
              "hint": {
                "en": "The hostname or IP address can be changed in the unit settings but it will change automagically when Homey receives an event from another IP with the same MAC address.",
                "nl": "Het IP adres kan veranderd worden n de unit instellingen. Deze wordt automagisch geüpdate wanneer Homey een bericht binnen krijgt van een nieuwe IP met hetzelfde MAC-adres."
              }
            },
            {
              "id": "idx",
              "type": "label",
              "label": {
                "en": "Unit ID"
              },
              "value": "",
              "hint": {
                "en": "As defined on the ESP Easy settings page. Is currently not used to identify a unit, we use the MAC address for that.",
                "nl": "Zoals kan worden ingesteld op de ESP Easy instellingenpagina. Dit ID wordt momenteel niet gebruikt door Homey."
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Device identification"
          },
          "children": [
            {
              "id": "controller",
              "type": "number",
              "label": {
                "en": "Controller ID"
              },
              "value": 0,
              "hint": {
                "en": "Controller number of Homey in ESP Easy"
              }
            },
            {
              "id": "taskIDX",
              "type": "label",
              "label": {
                "en": "Device IDX"
              },
              "value": "",
              "hint": {
                "en": "IDX as configured on device page for the Homey controller"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "gpio_output_bool",
      "name": {
        "en": "GPIO Digital Output"
      },
      "class": "other",
      "capabilities": [],
      "images": {
        "large": "/drivers/gpio_output_bool/assets/images/large.png",
        "small": "/drivers/gpio_output_bool/assets/images/small.png"
      },
      "pair": [
        {
          "id": "start",
          "navigation": {
            "next": "done"
          }
        },
        {
          "id": "done",
          "template": "done"
        }
      ],
      "settings": [
        {
          "id": "unitInfo",
          "type": "group",
          "label": {
            "en": "Unit information",
            "nl": "Unitinformatie"
          },
          "children": [
            {
              "id": "mac",
              "type": "label",
              "label": {
                "en": "MAC Address",
                "nl": "MAC-Adres"
              },
              "value": "",
              "hint": {
                "en": "The MAC Address of your ESP Easy unit. This is the identifier Homey uses for your unit. Any incoming messages will be matched by MAC addres so if the IP address does not match, it is updated on Homey's end.",
                "nl": "Het MAC-Adres van je ESP Easy unit. Dit gebruikt Homey om een unit te identificeren, binnenkomende berichten worden hiermee herkent en als het IP adres van afzender niet overeen komt, wordt deze aangepast in Homey."
              }
            },
            {
              "id": "host",
              "type": "label",
              "label": {
                "en": "Unit hostname",
                "nl": "Unit hostnaam"
              },
              "value": "",
              "hint": {
                "en": "The hostname or IP address can be changed in the unit settings but it will change automagically when Homey receives an event from another IP with the same MAC address.",
                "nl": "Het IP adres kan veranderd worden n de unit instellingen. Deze wordt automagisch geüpdate wanneer Homey een bericht binnen krijgt van een nieuwe IP met hetzelfde MAC-adres."
              }
            },
            {
              "id": "idx",
              "type": "label",
              "label": {
                "en": "Unit ID"
              },
              "value": "",
              "hint": {
                "en": "As defined on the ESP Easy settings page. Is currently not used to identify a unit, we use the MAC address for that.",
                "nl": "Zoals kan worden ingesteld op de ESP Easy instellingenpagina. Dit ID wordt momenteel niet gebruikt door Homey."
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Device settings"
          },
          "children": [
            {
              "id": "pollInterval",
              "type": "number",
              "label": {
                "en": "Polling interval"
              },
              "value": 5,
              "min": 5,
              "max": 3600,
              "units": {
                "en": "seconds"
              },
              "hint": {
                "en": "Detect state changes made by other means than this app and re-initialize the pin when it is set to something else by another app or a reboot of the unit"
              }
            },
            {
              "id": "invert",
              "type": "checkbox",
              "label": {
                "en": "Invert device state"
              },
              "options": {
                "type": "bool"
              },
              "value": false,
              "hint": {
                "en": "Consider state '0' on and state '1' off"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "gpio_output_pulse",
      "name": {
        "en": "GPIO Pulse Output"
      },
      "class": "other",
      "capabilities": [],
      "images": {
        "large": "/drivers/gpio_output_pulse/assets/images/large.png",
        "small": "/drivers/gpio_output_pulse/assets/images/small.png"
      },
      "pair": [
        {
          "id": "start",
          "navigation": {
            "next": "done"
          }
        },
        {
          "id": "done",
          "template": "done"
        }
      ],
      "settings": [
        {
          "id": "unitInfo",
          "type": "group",
          "label": {
            "en": "Unit information",
            "nl": "Unitinformatie"
          },
          "children": [
            {
              "id": "mac",
              "type": "label",
              "label": {
                "en": "MAC Address",
                "nl": "MAC-Adres"
              },
              "value": "",
              "hint": {
                "en": "The MAC Address of your ESP Easy unit. This is the identifier Homey uses for your unit. Any incoming messages will be matched by MAC addres so if the IP address does not match, it is updated on Homey's end.",
                "nl": "Het MAC-Adres van je ESP Easy unit. Dit gebruikt Homey om een unit te identificeren, binnenkomende berichten worden hiermee herkent en als het IP adres van afzender niet overeen komt, wordt deze aangepast in Homey."
              }
            },
            {
              "id": "host",
              "type": "label",
              "label": {
                "en": "Unit hostname",
                "nl": "Unit hostnaam"
              },
              "value": "",
              "hint": {
                "en": "The hostname or IP address can be changed in the unit settings but it will change automagically when Homey receives an event from another IP with the same MAC address.",
                "nl": "Het IP adres kan veranderd worden n de unit instellingen. Deze wordt automagisch geüpdate wanneer Homey een bericht binnen krijgt van een nieuwe IP met hetzelfde MAC-adres."
              }
            },
            {
              "id": "idx",
              "type": "label",
              "label": {
                "en": "Unit ID"
              },
              "value": "",
              "hint": {
                "en": "As defined on the ESP Easy settings page. Is currently not used to identify a unit, we use the MAC address for that.",
                "nl": "Zoals kan worden ingesteld op de ESP Easy instellingenpagina. Dit ID wordt momenteel niet gebruikt door Homey."
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Device settings"
          },
          "children": [
            {
              "id": "pollInterval",
              "type": "number",
              "label": {
                "en": "Polling interval"
              },
              "value": 60,
              "min": 5,
              "max": 3600,
              "units": {
                "en": "seconds"
              },
              "hint": {
                "en": "Request pin status from the unit and re-initialize the pin when, for example, a unit reboot or other app has changed the state"
              }
            },
            {
              "id": "duration",
              "type": "number",
              "label": {
                "en": "Pulse duration"
              },
              "value": 500,
              "units": {
                "en": "milliseconds"
              }
            },
            {
              "id": "invert",
              "type": "checkbox",
              "label": {
                "en": "Invert command"
              },
              "value": false,
              "hint": {
                "en": "Send state '0' as pulse command instead of '1'"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "gpio_output_pwm",
      "name": {
        "en": "GPIO PWM Output"
      },
      "class": "other",
      "capabilities": [],
      "images": {
        "large": "/drivers/gpio_output_pwm/assets/images/large.png",
        "small": "/drivers/gpio_output_pwm/assets/images/small.png"
      },
      "pair": [
        {
          "id": "start",
          "navigation": {
            "next": "done"
          }
        },
        {
          "id": "done",
          "template": "done"
        }
      ],
      "settings": [
        {
          "id": "unitInfo",
          "type": "group",
          "label": {
            "en": "Unit information",
            "nl": "Unitinformatie"
          },
          "children": [
            {
              "id": "mac",
              "type": "label",
              "label": {
                "en": "MAC Address",
                "nl": "MAC-Adres"
              },
              "value": "",
              "hint": {
                "en": "The MAC Address of your ESP Easy unit. This is the identifier Homey uses for your unit. Any incoming messages will be matched by MAC addres so if the IP address does not match, it is updated on Homey's end.",
                "nl": "Het MAC-Adres van je ESP Easy unit. Dit gebruikt Homey om een unit te identificeren, binnenkomende berichten worden hiermee herkent en als het IP adres van afzender niet overeen komt, wordt deze aangepast in Homey."
              }
            },
            {
              "id": "host",
              "type": "label",
              "label": {
                "en": "Unit hostname",
                "nl": "Unit hostnaam"
              },
              "value": "",
              "hint": {
                "en": "The hostname or IP address can be changed in the unit settings but it will change automagically when Homey receives an event from another IP with the same MAC address.",
                "nl": "Het IP adres kan veranderd worden n de unit instellingen. Deze wordt automagisch geüpdate wanneer Homey een bericht binnen krijgt van een nieuwe IP met hetzelfde MAC-adres."
              }
            },
            {
              "id": "idx",
              "type": "label",
              "label": {
                "en": "Unit ID"
              },
              "value": "",
              "hint": {
                "en": "As defined on the ESP Easy settings page. Is currently not used to identify a unit, we use the MAC address for that.",
                "nl": "Zoals kan worden ingesteld op de ESP Easy instellingenpagina. Dit ID wordt momenteel niet gebruikt door Homey."
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Device settings"
          },
          "children": [
            {
              "id": "pollInterval",
              "type": "number",
              "label": {
                "en": "Polling interval"
              },
              "value": 60,
              "min": 5,
              "max": 3600,
              "units": {
                "en": "seconds"
              },
              "hint": {
                "en": "Current releases of ESP Mega will always return '0' as PWM frequency so the state is ignored. The polling is to check for device reboots and other changes that will have te pin need to be re-initialized"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "gpio_output_rtttl",
      "name": {
        "en": "GPIO Melody Output"
      },
      "class": "other",
      "capabilities": [],
      "images": {
        "large": "/drivers/gpio_output_rtttl/assets/images/large.png",
        "small": "/drivers/gpio_output_rtttl/assets/images/small.png"
      },
      "pair": [
        {
          "id": "start",
          "navigation": {
            "next": "done"
          }
        },
        {
          "id": "done",
          "template": "done"
        }
      ],
      "settings": [
        {
          "id": "unitInfo",
          "type": "group",
          "label": {
            "en": "Unit information",
            "nl": "Unitinformatie"
          },
          "children": [
            {
              "id": "mac",
              "type": "label",
              "label": {
                "en": "MAC Address",
                "nl": "MAC-Adres"
              },
              "value": "",
              "hint": {
                "en": "The MAC Address of your ESP Easy unit. This is the identifier Homey uses for your unit. Any incoming messages will be matched by MAC addres so if the IP address does not match, it is updated on Homey's end.",
                "nl": "Het MAC-Adres van je ESP Easy unit. Dit gebruikt Homey om een unit te identificeren, binnenkomende berichten worden hiermee herkent en als het IP adres van afzender niet overeen komt, wordt deze aangepast in Homey."
              }
            },
            {
              "id": "host",
              "type": "label",
              "label": {
                "en": "Unit hostname",
                "nl": "Unit hostnaam"
              },
              "value": "",
              "hint": {
                "en": "The hostname or IP address can be changed in the unit settings but it will change automagically when Homey receives an event from another IP with the same MAC address.",
                "nl": "Het IP adres kan veranderd worden n de unit instellingen. Deze wordt automagisch geüpdate wanneer Homey een bericht binnen krijgt van een nieuwe IP met hetzelfde MAC-adres."
              }
            },
            {
              "id": "idx",
              "type": "label",
              "label": {
                "en": "Unit ID"
              },
              "value": "",
              "hint": {
                "en": "As defined on the ESP Easy settings page. Is currently not used to identify a unit, we use the MAC address for that.",
                "nl": "Zoals kan worden ingesteld op de ESP Easy instellingenpagina. Dit ID wordt momenteel niet gebruikt door Homey."
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Device settings"
          },
          "children": [
            {
              "id": "pollInterval",
              "type": "number",
              "label": {
                "en": "Polling interval"
              },
              "value": 60,
              "min": 5,
              "max": 3600,
              "units": {
                "en": "seconds"
              },
              "hint": {
                "en": "Request pin status from the unit and re-initialize the pin when, for example, a unit reboot or other app has changed the state"
              }
            },
            {
              "id": "melody",
              "type": "text",
              "label": {
                "en": "RTTTL Melody"
              },
              "value": "d=8,o=6,b=340:c,e,g",
              "hint": {
                "en": "RTTTL melody string. The ESP Easy implementation is a bit buggy so not everything will work."
              }
            }
          ]
        }
      ]
    },
    {
      "id": "gpio_output_tone",
      "name": {
        "en": "GPIO Tone Output"
      },
      "class": "other",
      "capabilities": [],
      "images": {
        "large": "/drivers/gpio_output_tone/assets/images/large.png",
        "small": "/drivers/gpio_output_tone/assets/images/small.png"
      },
      "pair": [
        {
          "id": "start",
          "navigation": {
            "next": "done"
          }
        },
        {
          "id": "done",
          "template": "done"
        }
      ],
      "settings": [
        {
          "id": "unitInfo",
          "type": "group",
          "label": {
            "en": "Unit information",
            "nl": "Unitinformatie"
          },
          "children": [
            {
              "id": "mac",
              "type": "label",
              "label": {
                "en": "MAC Address",
                "nl": "MAC-Adres"
              },
              "value": "",
              "hint": {
                "en": "The MAC Address of your ESP Easy unit. This is the identifier Homey uses for your unit. Any incoming messages will be matched by MAC addres so if the IP address does not match, it is updated on Homey's end.",
                "nl": "Het MAC-Adres van je ESP Easy unit. Dit gebruikt Homey om een unit te identificeren, binnenkomende berichten worden hiermee herkent en als het IP adres van afzender niet overeen komt, wordt deze aangepast in Homey."
              }
            },
            {
              "id": "host",
              "type": "label",
              "label": {
                "en": "Unit hostname",
                "nl": "Unit hostnaam"
              },
              "value": "",
              "hint": {
                "en": "The hostname or IP address can be changed in the unit settings but it will change automagically when Homey receives an event from another IP with the same MAC address.",
                "nl": "Het IP adres kan veranderd worden n de unit instellingen. Deze wordt automagisch geüpdate wanneer Homey een bericht binnen krijgt van een nieuwe IP met hetzelfde MAC-adres."
              }
            },
            {
              "id": "idx",
              "type": "label",
              "label": {
                "en": "Unit ID"
              },
              "value": "",
              "hint": {
                "en": "As defined on the ESP Easy settings page. Is currently not used to identify a unit, we use the MAC address for that.",
                "nl": "Zoals kan worden ingesteld op de ESP Easy instellingenpagina. Dit ID wordt momenteel niet gebruikt door Homey."
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Device settings"
          },
          "children": [
            {
              "id": "pollInterval",
              "type": "number",
              "label": {
                "en": "Polling interval"
              },
              "value": 60,
              "min": 5,
              "max": 3600,
              "units": {
                "en": "seconds"
              },
              "hint": {
                "en": "Request pin status from the unit and re-initialize the pin when, for example, a unit reboot or other app has changed the state"
              }
            },
            {
              "id": "duration",
              "type": "number",
              "label": {
                "en": "Tone duration"
              },
              "units": {
                "en": "milliseconds"
              },
              "value": 150,
              "hint": {
                "en": "Default tone duration."
              }
            },
            {
              "id": "frequency",
              "type": "number",
              "label": {
                "en": "Tone frequency"
              },
              "units": {
                "en": "hertz"
              },
              "value": 1300,
              "hint": {
                "en": "Default tone frequency. Recommended to keep between 20 and 13000."
              }
            }
          ]
        }
      ]
    },
    {
      "id": "input_switch",
      "name": {
        "en": "Switch Input"
      },
      "class": "sensor",
      "capabilities": [
        "device_heartbeat"
      ],
      "images": {
        "large": "/drivers/input_switch/assets/images/large.png",
        "small": "/drivers/input_switch/assets/images/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "settings"
          }
        },
        {
          "id": "settings",
          "navigation": {
            "prev": "list_devices",
            "next": "done"
          }
        },
        {
          "id": "done",
          "template": "done"
        }
      ],
      "settings": [
        {
          "id": "unitInfo",
          "type": "group",
          "label": {
            "en": "Unit information",
            "nl": "Unitinformatie"
          },
          "children": [
            {
              "id": "mac",
              "type": "label",
              "label": {
                "en": "MAC Address",
                "nl": "MAC-Adres"
              },
              "value": "",
              "hint": {
                "en": "The MAC Address of your ESP Easy unit. This is the identifier Homey uses for your unit. Any incoming messages will be matched by MAC addres so if the IP address does not match, it is updated on Homey's end.",
                "nl": "Het MAC-Adres van je ESP Easy unit. Dit gebruikt Homey om een unit te identificeren, binnenkomende berichten worden hiermee herkent en als het IP adres van afzender niet overeen komt, wordt deze aangepast in Homey."
              }
            },
            {
              "id": "host",
              "type": "label",
              "label": {
                "en": "Unit hostname",
                "nl": "Unit hostnaam"
              },
              "value": "",
              "hint": {
                "en": "The hostname or IP address can be changed in the unit settings but it will change automagically when Homey receives an event from another IP with the same MAC address.",
                "nl": "Het IP adres kan veranderd worden n de unit instellingen. Deze wordt automagisch geüpdate wanneer Homey een bericht binnen krijgt van een nieuwe IP met hetzelfde MAC-adres."
              }
            },
            {
              "id": "idx",
              "type": "label",
              "label": {
                "en": "Unit ID"
              },
              "value": "",
              "hint": {
                "en": "As defined on the ESP Easy settings page. Is currently not used to identify a unit, we use the MAC address for that.",
                "nl": "Zoals kan worden ingesteld op de ESP Easy instellingenpagina. Dit ID wordt momenteel niet gebruikt door Homey."
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Device identification"
          },
          "children": [
            {
              "id": "controller",
              "type": "number",
              "label": {
                "en": "Controller ID"
              },
              "value": 0,
              "hint": {
                "en": "Controller number of Homey in ESP Easy"
              }
            },
            {
              "id": "taskIDX",
              "type": "label",
              "label": {
                "en": "Device IDX"
              },
              "value": "",
              "hint": {
                "en": "IDX as configured on device page for the Homey controller"
              }
            }
          ]
        }
      ]
    },
    {
      "id": "p1",
      "name": {
        "en": "P1 Energy Meter",
        "nl": "P1 EnergieMeter"
      },
      "class": "sensor",
      "capabilities": [
        "device_heartbeat",
        "measure_power",
        "alarm_active_tariff"
      ],
      "capabilitiesOptions": {
        "measure_power": {
          "title": {
            "en": "Power usage",
            "nl": "Stroomverbruik"
          }
        },
        "meter_power.received1": {
          "title": {
            "en": "Low tariff",
            "nl": "Laag tarief"
          }
        },
        "meter_power.received2": {
          "title": {
            "en": "High tariff",
            "nl": "Hoog tarief"
          }
        },
        "measure_power.delivery": {
          "title": {
            "en": "Power surplus",
            "nl": "Teruglevering"
          }
        },
        "meter_power.delivered1": {
          "title": {
            "en": "Surplus tariff 1",
            "nl": "Teruglevering tarief 1"
          }
        },
        "meter_power.delivered2": {
          "title": {
            "en": "Surplus tariff 2",
            "nl": "Teruglevering tarief 2"
          }
        }
      },
      "energy": {
        "cumulative": true
      },
      "images": {
        "large": "/drivers/p1/assets/images/large.png",
        "small": "/drivers/p1/assets/images/small.png"
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "options": {
            "singular": true
          },
          "navigation": {
            "next": "settings"
          }
        },
        {
          "id": "settings",
          "navigation": {
            "prev": "list_devices",
            "next": "done"
          }
        },
        {
          "id": "done",
          "template": "done"
        }
      ],
      "settings": [
        {
          "id": "unitInfo",
          "type": "group",
          "label": {
            "en": "Unit information",
            "nl": "Unitinformatie"
          },
          "children": [
            {
              "id": "mac",
              "type": "label",
              "label": {
                "en": "MAC Address",
                "nl": "MAC-Adres"
              },
              "value": "",
              "hint": {
                "en": "The MAC Address of your ESP Easy unit. This is the identifier Homey uses for your unit. Any incoming messages will be matched by MAC addres so if the IP address does not match, it is updated on Homey's end.",
                "nl": "Het MAC-Adres van je ESP Easy unit. Dit gebruikt Homey om een unit te identificeren, binnenkomende berichten worden hiermee herkent en als het IP adres van afzender niet overeen komt, wordt deze aangepast in Homey."
              }
            },
            {
              "id": "host",
              "type": "label",
              "label": {
                "en": "Unit hostname",
                "nl": "Unit hostnaam"
              },
              "value": "",
              "hint": {
                "en": "The hostname or IP address can be changed in the unit settings but it will change automagically when Homey receives an event from another IP with the same MAC address.",
                "nl": "Het IP adres kan veranderd worden n de unit instellingen. Deze wordt automagisch geüpdate wanneer Homey een bericht binnen krijgt van een nieuwe IP met hetzelfde MAC-adres."
              }
            },
            {
              "id": "idx",
              "type": "label",
              "label": {
                "en": "Unit ID"
              },
              "value": "",
              "hint": {
                "en": "As defined on the ESP Easy settings page. Is currently not used to identify a unit, we use the MAC address for that.",
                "nl": "Zoals kan worden ingesteld op de ESP Easy instellingenpagina. Dit ID wordt momenteel niet gebruikt door Homey."
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Device identification"
          },
          "children": [
            {
              "id": "taskid",
              "type": "label",
              "label": {
                "en": "Task ID"
              },
              "value": "",
              "hint": {
                "en": "As the P1 device doesn't export an IDX for the controller, the Task ID is used to identify the device."
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Device settings"
          },
          "children": [
            {
              "id": "p1port",
              "type": "number",
              "label": {
                "en": "Wifi Gateway TCP Port"
              },
              "value": 8088,
              "hint": {
                "en": "TCP Port for the P1 Wifi gateway as configured in ESP Easy. You can test your set-up by going to http://<esp-easyip>:<port-number> in your webbrowser.\nIf you see output there, you have configured ESP Easy correctly."
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Meter information"
          },
          "children": [
            {
              "id": "meterType",
              "type": "label",
              "label": {
                "en": "Meter type"
              },
              "value": "Unknown"
            },
            {
              "id": "DSMRVersion",
              "type": "label",
              "label": {
                "en": "DSMR Version"
              },
              "value": "Unknown"
            }
          ]
        }
      ]
    },
    {
      "id": "unit",
      "name": {
        "en": "ESP Easy Unit"
      },
      "class": "other",
      "capabilities": [
        "measure_load",
        "measure_ram",
        "measure_heap",
        "unit_uptime",
        "measure_signal_strength",
        "device_heartbeat"
      ],
      "images": {
        "large": "/drivers/unit/assets/images/large.png",
        "small": "/drivers/unit/assets/images/small.png"
      },
      "pair": [
        {
          "id": "find_unit",
          "navigation": {
            "next": "setup_controller"
          }
        },
        {
          "id": "setup_controller",
          "navigation": {
            "prev": "find_unit",
            "next": "done"
          }
        },
        {
          "id": "done",
          "template": "done"
        }
      ],
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "Connection settings"
          },
          "children": [
            {
              "id": "mac",
              "type": "label",
              "label": {
                "en": "MAC Address"
              },
              "value": "",
              "hint": {
                "en": "The MAC Address of your ESP Easy unit. This is the identifier Homey uses for your unit. Any incoming messages will be matched by MAC addres so if the IP address does not match, it is updated on Homey's end."
              }
            },
            {
              "id": "idx",
              "type": "label",
              "label": {
                "en": "Unit ID"
              },
              "value": "",
              "hint": {
                "en": "As defined on the ESP Easy settings page. Is currently not used to identify a unit, we use the MAC address for that"
              }
            },
            {
              "id": "host",
              "type": "text",
              "label": {
                "en": "IP Address or hostname"
              },
              "value": "",
              "hint": {
                "en": "The IP Address of your ESP Easy unit. Will be updated automatically if any events from the unit (identified by MAC address) arrive with a different IP address. If you only use output pins (which will not send events), you can add a 'System Info' device to the ESP unit, it will send events to Homey every minute."
              }
            },
            {
              "id": "port",
              "type": "number",
              "label": {
                "en": "Port number"
              },
              "value": 80,
              "min": 0,
              "max": 65535,
              "hint": {
                "en": "Should be port 80 as ESP Easy doesn't support running on another port at the moment."
              }
            }
          ]
        },
        {
          "type": "group",
          "label": {
            "en": "Device settings"
          },
          "children": [
            {
              "id": "pollInterval",
              "type": "number",
              "label": {
                "en": "Polling interval"
              },
              "value": 60,
              "min": 5,
              "max": 3600,
              "units": {
                "en": "seconds"
              },
              "hint": {
                "en": "Request pin status from the unit and re-initialize the pin when, for example, a unit reboot or other app has changed the state"
              }
            },
            {
              "id": "timeout",
              "type": "number",
              "label": {
                "en": "Connection timeout",
                "nl": "Verbindingstimeout"
              },
              "value": 10,
              "min": 5,
              "max": 45,
              "units": {
                "en": "seconds",
                "nl": "seconden"
              },
              "hint": {
                "en": "Number of seconds before a request for /json will time out.\n10 Seconds is a reasonable default.",
                "nl": "Aantal seconden voordat een verzoek naar /json zal falen.\n10 Seconden is de aanbevolen standaard."
              }
            }
          ]
        }
      ]
    }
  ],
  "flow": {
    "triggers": [
      {
        "id": "measure_load_changed",
        "title": {
          "en": "System load changed",
          "nl": "Systeembelasting is veranderd"
        },
        "tokens": [
          {
            "name": "measure_load",
            "type": "number",
            "title": {
              "en": "System load",
              "nl": "Systeembelasting"
            },
            "example": 11.42
          }
        ],
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=unit&capabilities=measure_load"
          }
        ]
      },
      {
        "id": "measure_ram_changed",
        "title": {
          "en": "System RAM usage changed",
          "nl": "Beschikbaar werkgeheugen is veranderd"
        },
        "tokens": [
          {
            "name": "measure_ram",
            "type": "number",
            "title": {
              "en": "Free RAM",
              "nl": "Beschikbaar RAM"
            },
            "example": 14680
          }
        ],
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=unit&capabilities=measure_ram"
          }
        ]
      },
      {
        "id": "measure_heap_changed",
        "title": {
          "en": "Available heap blocks changed",
          "nl": "Beschikbare heap blocks veranderd"
        },
        "tokens": [
          {
            "name": "measure_heap",
            "type": "number",
            "title": {
              "en": "Heap Free",
              "nl": "Heap Beschikbaar"
            },
            "example": 13112
          }
        ],
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=unit&capabilities=measure_heap"
          }
        ]
      },
      {
        "id": "measure_signal_strength_changed",
        "title": {
          "en": "Signal strength changed",
          "nl": "Signaalsterkte is veranderd"
        },
        "tokens": [
          {
            "name": "measure_signal_strength",
            "type": "number",
            "title": {
              "en": "Signal strength",
              "nl": "Signaalsterkte"
            },
            "example": -66
          }
        ],
        "args": [
          {
            "type": "device",
            "name": "device",
            "filter": "driver_id=unit&capabilities=measure_signal_strength"
          }
        ]
      }
    ]
  },
  "capabilities": {
    "alarm_active_tariff": {
      "type": "enum",
      "title": {
        "en": "Active tariff",
        "nl": "Actief tarief"
      },
      "icon": "/assets/icons/euro.svg",
      "uiComponent": "sensor",
      "getable": true,
      "setable": false,
      "values": [
        {
          "id": "1",
          "title": {
            "en": "Low",
            "nl": "Laag"
          }
        },
        {
          "id": "2",
          "title": {
            "en": "High",
            "nl": "Hoog"
          }
        }
      ]
    },
    "device_heartbeat": {
      "type": "string",
      "title": {
        "en": "Last seen",
        "nl": "Laatste activiteit"
      },
      "icon": "/assets/icons/heartbeat.svg",
      "uiComponent": "sensor",
      "getable": true,
      "setable": false
    },
    "measure_heap": {
      "type": "number",
      "title": {
        "en": "Heap Free",
        "nl": "Heap Beschikbaar"
      },
      "icon": "/assets/icons/heap.svg",
      "insights": true,
      "uiComponent": "sensor",
      "getable": true,
      "setable": false,
      "units": {
        "en": "Blocks"
      }
    },
    "measure_load": {
      "type": "number",
      "title": {
        "en": "System load",
        "nl": "Systeembelasting"
      },
      "icon": "/assets/icons/cpu.svg",
      "decimals": 2,
      "insights": true,
      "uiComponent": "sensor",
      "getable": true,
      "setable": false,
      "units": {
        "en": "%"
      }
    },
    "measure_ram": {
      "type": "number",
      "title": {
        "en": "Free RAM",
        "nl": "RAM Beschikbaar"
      },
      "icon": "/assets/icons/ram-alt.svg",
      "insights": true,
      "uiComponent": "sensor",
      "getable": true,
      "setable": false,
      "units": {
        "en": "KB"
      }
    },
    "measure_signal_strength": {
      "type": "number",
      "title": {
        "en": "Signal strength",
        "nl": "Signaalsterkte"
      },
      "icon": "/assets/icons/wifi.svg",
      "insights": true,
      "uiComponent": "sensor",
      "getable": true,
      "setable": false,
      "units": {
        "en": "dB"
      }
    },
    "unit_uptime": {
      "type": "string",
      "title": {
        "en": "Uptime"
      },
      "icon": "/assets/icons/uptime.svg",
      "uiComponent": "sensor",
      "getable": true,
      "setable": false
    }
  }
}